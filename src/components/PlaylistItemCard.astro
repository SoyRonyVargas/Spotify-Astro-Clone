---
import type { Playlist } from '@/lib/data';

interface Props {
    playlist: Playlist
}

const { playlist } = Astro.props

const {
    id,
    title,
    color,
    cover,
    albumId,
    artists
} = playlist

const artistString = artists.join(", ")
---

<a
    transition:name=`playlist-${id}-box`
    href={`/playlist/${id}`}
    class="
        playlist-item flex shadow-lg hover:shadow:xl bg-zinc-500/30 transition-all duration-300 
        overflow-hidden relative p-2 gap-2 pb-4 rounded-md hover:bg-zinc-800 w-44 flex-col"
>
    <picture class="aspect-square w-full h-auto flex-none">
        <img 
            src={cover} 
            alt={`Cover of ${title} by ${artistString}`}
            class="object-cover w-full h-full rounded-md"
            transition:name=`playlist ${id} image`
        />
    </picture>

    <div class="flex flex-auto flex-col">
        <h4 transition:name=`playlist ${id} title` class="text-white text-sm">
            {title}
        </h4>
        <span transition:name=`playlist ${id} artists` class="text-xs text-gray-400">{ artistString }</span>
    </div>
</a>